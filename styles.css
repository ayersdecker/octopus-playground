:root{
  --bg:#0f1724;
  --card:#0b1220;
  --accent:#7b3df2;
  --muted:#9aa4b2;
  --sea-1: #071428;
  --sea-2: #042037;
  --glass: rgba(255,255,255,0.04);
}
*{box-sizing:border-box}
html,body,#app{height:100%}
body{
  margin:0;padding:28px;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;
  background: radial-gradient(1200px 400px at 10% 10%, rgba(123,61,242,0.06), transparent), linear-gradient(180deg,var(--sea-1) 0%, var(--sea-2) 100%);
  color:#e6eef7;
  position:relative;
  overflow-x:hidden;
}
body::before{
  content:'';
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:radial-gradient(circle at 20% 50%, rgba(123,61,242,0.04) 0%, transparent 50%),
             radial-gradient(circle at 80% 80%, rgba(91,255,215,0.03) 0%, transparent 50%);
  pointer-events:none;
  z-index:-1;
}
.app{max-width:980px;margin:0 auto;position:relative;z-index:1}
header{display:flex;flex-direction:column;align-items:center;gap:6px}
header h1{margin:0;font-size:28px}
.tag{margin:0;color:var(--muted)}
.game{display:flex;gap:20px;margin-top:18px}
.octopus-area{flex:1;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:16px;display:flex;flex-direction:column;align-items:center;position:relative;box-shadow:0 6px 30px rgba(3,6,18,0.6)}
.octopus-area::before{content:'';position:absolute;inset:0;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.015), transparent);pointer-events:none}
.panel{width:340px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;display:flex;flex-direction:column;gap:12px;box-shadow:0 6px 20px rgba(2,6,20,0.6)}
.stats{display:flex;flex-direction:column;gap:10px}
.controls{display:flex;gap:8px}
.controls button{flex:1;padding:10px;border-radius:10px;border:0;background:linear-gradient(180deg,var(--accent),#5a1adf);color:white;cursor:pointer;box-shadow:0 6px 18px rgba(123,61,242,0.14);font-weight:600;transition:all 300ms cubic-bezier(0.34, 1.56, 0.64, 1);position:relative;overflow:hidden}
.controls button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);transition:left 500ms ease;z-index:1}
.controls button:hover{transform:translateY(-3px);box-shadow:0 8px 24px rgba(123,61,242,0.22)}
.controls button:active{transform:translateY(-1px);box-shadow:0 4px 12px rgba(123,61,242,0.18)}
.controls button:hover::before{left:100%}
.chat{display:flex;flex-direction:column;gap:8px}
.chat-log{height:180px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;padding:12px;overflow:auto;font-size:14px;display:flex;flex-direction:column;gap:6px}
.chat-controls{display:flex;gap:8px}
#chatInput{flex:1;padding:10px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);color:inherit}
#chatBtn{padding:10px 14px;border-radius:8px;border:0;background:#2b7df7;color:white;box-shadow:0 6px 12px rgba(43,125,247,0.12)}
footer{margin-top:18px;text-align:center;color:var(--muted)}

/* octopus styles */
.octopus{width:320px;height:320px;display:flex;align-items:center;justify-content:center;position:relative}
.octopus svg{width:100%;height:100%;transition:transform 300ms ease;filter:drop-shadow(0 8px 16px rgba(123,61,242,0.2))}
.octopus.wiggle svg{animation:wiggle 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55)}
@keyframes wiggle{0%{transform:rotate(-8deg) scale(0.98)}25%{transform:rotate(8deg) scale(1.02)}50%{transform:rotate(-6deg) scale(1)}75%{transform:rotate(5deg) scale(1.01)}100%{transform:rotate(0) scale(1)}}

/* eye animations */
.eye{transition:all 300ms ease}
.eye .pupil{transition:all 200ms ease}
.eye-shine{animation:sparkle 2.5s ease-in-out infinite}
@keyframes sparkle{0%,100%{opacity:0.8}50%{opacity:0.3}}

/* tentacle animations - smooth wave */
.tent-wrapper{transition:transform 800ms cubic-bezier(0.34, 1.56, 0.64, 1)}
.tent{stroke-linecap:round;stroke-linejoin:round}
.tent-1{animation:tentSway1 4s ease-in-out infinite}
.tent-2{animation:tentSway2 4.2s ease-in-out infinite}
.tent-3{animation:tentSway3 4.4s ease-in-out infinite}
.tent-4{animation:tentSway2 4.2s ease-in-out infinite}
.tent-5{animation:tentSway1 4s ease-in-out infinite}
.tent-6{animation:tentSway3 4.4s ease-in-out infinite}

@keyframes tentSway1{0%{transform:rotate(-2deg)}50%{transform:rotate(4deg)}100%{transform:rotate(-2deg)}}
@keyframes tentSway2{0%{transform:rotate(0deg)}50%{transform:rotate(6deg)}100%{transform:rotate(0deg)}}
@keyframes tentSway3{0%{transform:rotate(2deg)}50%{transform:rotate(5deg)}100%{transform:rotate(2deg)}}

/* floating idle animation */
.octopus-svg{animation:floating 3.5s ease-in-out infinite}
@keyframes floating{0%,100%{transform:translateY(0px)}50%{transform:translateY(-12px)}}

.suction-cups{animation:suctionPulse 2s ease-in-out infinite}
@keyframes suctionPulse{0%,100%{opacity:0.6}50%{opacity:0.9}}

.bubbles{position:absolute;pointer-events:none;top:160px;width:100%;height:100%;overflow:hidden}
.bubble{position:absolute;border-radius:50%;background:rgba(255,255,255,0.08);backdrop-filter:blur(2px);box-shadow:inset -1px -1px 3px rgba(0,0,0,0.2);animation:bubble 1600ms linear forwards}
@keyframes bubble{0%{transform:translateY(0) scale(0.6);opacity:0.6}100%{transform:translateY(-120px) scale(1.1);opacity:0}}

/* progress bars */
.stat{display:flex;flex-direction:column;gap:6px}
.stat .label{display:flex;justify-content:space-between;color:var(--muted);font-size:13px}
.bar{height:12px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
.fill{height:100%;width:0%;background:linear-gradient(90deg,#ffb199,#7b3df2);transition:width 400ms ease}
.stat.small{font-size:14px;color:var(--muted)}

/* chat bubbles */
.msg{padding:8px 10px;border-radius:10px;max-width:85%;align-self:flex-start;animation:slideIn 300ms ease-out;word-wrap:break-word;line-height:1.4}
@keyframes slideIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.msg.user{background:rgba(255,255,255,0.03);align-self:flex-end;color:#eaf3ff;border:1px solid rgba(174,210,255,0.2)}
.msg.octo{background:linear-gradient(180deg, rgba(123,61,242,0.12), rgba(123,61,242,0.06));color:#f0eaff;border:1px solid rgba(123,61,242,0.3)}
.msg.sys{color:var(--muted);font-size:13px;align-self:center;font-style:italic}

/* tentacle sway */
.tentacles .tent{stroke-linejoin:round;opacity:0.95}
.tentacles .tent{animation:sway 3s ease-in-out infinite}
@keyframes sway{0%{transform:translateY(0)}50%{transform:translateY(4px)}100%{transform:translateY(0)}}

/* confetti */
.confetti{position:absolute;pointer-events:none;border-radius:50%;transform:translateY(0);opacity:1;transition:transform 800ms ease,opacity 800ms ease}

/* fish animation */
.fish-container{position:absolute;top:50%;left:-60px;width:60px;height:30px;opacity:0;pointer-events:none}
.fish{width:100%;height:100%}
.fish-tail{transform-origin:0 0;animation:tailWag 150ms ease-in-out infinite}
@keyframes tailWag{0%,100%{transform:rotate(0deg)}50%{transform:rotate(-8deg)}}

.fish-container.swimming{animation:swimIn 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards}
@keyframes swimIn{0%{left:-60px;opacity:1;transform:translateY(0)}40%{transform:translateY(-40px)}70%{left:calc(50% - 30px);opacity:1;transform:translateY(-35px)}100%{left:calc(50% - 30px);opacity:0;transform:translateY(-35px) scale(0.2)}}

/* ambient background animations */
.ambient-bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;overflow:hidden}

.ambient-fish{position:absolute;opacity:0.4;animation:driftAcross linear infinite;top:var(--offset, 20%)}
.fish-small{width:50px;height:25px;--duration: 20s}
.fish-medium{width:60px;height:30px;--duration: 25s}
.fish-large{width:70px;height:35px;--duration: 28s}

@keyframes driftAcross{0%{left:-100px;transform:translateY(0) rotateY(0)}50%{transform:translateY(-15px) rotateY(0)}100%{left:100vw;transform:translateY(0) rotateY(0)}}

.ambient-fish{animation:driftAcross linear infinite;animation-duration:var(--duration, 20s);animation-delay:var(--delay, 0s)}

/* alternate some fish coming from right */
.ambient-fish:nth-child(2),.ambient-fish:nth-child(5){transform:scaleX(-1)}
.ambient-fish:nth-child(2){animation-name:driftAcrossReverse}
.ambient-fish:nth-child(5){animation-name:driftAcrossReverse}

@keyframes driftAcrossReverse{0%{left:100vw;transform:translateY(0) rotateY(180deg) scaleX(-1)}50%{transform:translateY(-15px) rotateY(180deg) scaleX(-1)}100%{left:-100px;transform:translateY(0) rotateY(180deg) scaleX(-1)}}

/* seaweed sway */
.ambient-seaweed{position:absolute;bottom:0;opacity:0.3;animation:driftAcross linear infinite;top:auto;height:100px}
.ambient-seaweed svg{animation:seaweedSway ease-in-out infinite}

@keyframes seaweedSway{0%,100%{transform:skewX(-2deg)}50%{transform:skewX(2deg)}}

.ambient-seaweed{animation-duration:var(--duration, 26s);animation-delay:var(--delay, 1s)}
.ambient-seaweed:nth-child(7){animation-name:driftAcrossReverse}

/* ambient particles */
.ambient-particle{position:absolute;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8), rgba(255,255,255,0.2));opacity:0.3;animation:particleFloat ease-in-out infinite;box-shadow:0 0 4px rgba(255,255,255,0.4)}

@keyframes particleFloat{0%{bottom:-10px;left:var(--offset, 50%);opacity:0.3;transform:translateX(0)}50%{opacity:0.5;transform:translateX(20px)}100%{bottom:100vh;left:var(--offset, 50%);opacity:0;transform:translateX(-20px)}}

.ambient-particle{animation-duration:var(--duration, 8s);animation-delay:var(--delay, 0s)}
@media (max-width:880px){
  .game{flex-direction:column}
  .panel{width:100%}
}

/* small UI tweaks */
.stats strong{display:inline-block;width:84px;color:var(--muted)}
#resetBtn{background:#444;color:#fff}
